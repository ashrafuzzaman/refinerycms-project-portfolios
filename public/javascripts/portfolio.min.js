(function(a){a.fn.quicksand=function(f,b){var e={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"auto",useScaling:true,enhancement:function(g){},selector:"> *",dx:0,dy:0};a.extend(e,b);if(a.browser.msie||(typeof(a.fn.scale)=="undefined")){e.useScaling=false}var c;if(typeof(arguments[1])=="function"){var c=arguments[1]}else{if(typeof(arguments[2]=="function")){var c=arguments[2]}}return this.each(function(v){var A;var y=[];var j=a(f).clone();var z=a(this);var h=a(this).css("height");var p;var k=false;var l=a(z).offset();var m=[];var x=a(this).find(e.selector);if(a.browser.msie&&a.browser.version.substr(0,1)<7){z.html("").append(j);return}var n=0;var s=function(){if(!n){n=1;$toDelete=z.find("> *");z.prepend(t.find("> *"));$toDelete.remove();if(k){z.css("height",p)}e.enhancement(z);if(typeof c=="function"){c.call(this)}}};var w=z.offsetParent();var u=w.offset();if(w.css("position")=="relative"){if(w.get(0).nodeName.toLowerCase()=="body"){}else{u.top+=(parseFloat(w.css("border-top-width"))||0);u.left+=(parseFloat(w.css("border-left-width"))||0)}}else{u.top-=(parseFloat(w.css("border-top-width"))||0);u.left-=(parseFloat(w.css("border-left-width"))||0);u.top-=(parseFloat(w.css("margin-top"))||0);u.left-=(parseFloat(w.css("margin-left"))||0)}if(isNaN(u.left)){u.left=0}if(isNaN(u.top)){u.top=0}u.left-=e.dx;u.top-=e.dy;z.css("height",a(this).height());x.each(function(B){m[B]=a(this).offset()});a(this).stop();var r=0;var q=0;x.each(function(B){a(this).stop();var C=a(this).get(0);if(C.style.position=="absolute"){r=-e.dx;q=-e.dy}else{r=e.dx;q=e.dy}C.style.position="absolute";C.style.margin="0";C.style.top=(m[B].top-parseFloat(C.style.marginTop)-u.top+q)+"px";C.style.left=(m[B].left-parseFloat(C.style.marginLeft)-u.left+r)+"px"});var t=a(z).clone();var g=t.get(0);g.innerHTML="";g.setAttribute("id","");g.style.height="auto";g.style.width=z.width()+"px";t.append(j);t.insertBefore(z);t.css("opacity",0);g.style.zIndex=-1;g.style.margin="0";g.style.position="absolute";g.style.top=l.top-u.top+"px";g.style.left=l.left-u.left+"px";if(e.adjustHeight==="dynamic"){z.animate({height:t.height()},e.duration,e.easing)}else{if(e.adjustHeight==="auto"){p=t.height();if(parseFloat(h)<parseFloat(p)){z.css("height",p)}else{k=true}}}x.each(function(B){var C=[];if(typeof(e.attribute)=="function"){A=e.attribute(a(this));j.each(function(){if(e.attribute(this)==A){C=a(this);return false}})}else{C=j.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]")}if(C.length){if(!e.useScaling){y.push({element:a(this),animation:{top:C.offset().top-u.top,left:C.offset().left-u.left,opacity:1}})}else{y.push({element:a(this),animation:{top:C.offset().top-u.top,left:C.offset().left-u.left,opacity:1,scale:"1.0"}})}}else{if(!e.useScaling){y.push({element:a(this),animation:{opacity:"0.0"}})}else{y.push({element:a(this),animation:{opacity:"0.0",scale:"0.0"}})}}});j.each(function(D){var C=[];var F=[];if(typeof(e.attribute)=="function"){A=e.attribute(a(this));x.each(function(){if(e.attribute(this)==A){C=a(this);return false}});j.each(function(){if(e.attribute(this)==A){F=a(this);return false}})}else{C=x.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]");F=j.filter("["+e.attribute+"="+a(this).attr(e.attribute)+"]")}var E;if(C.length===0){if(!e.useScaling){E={opacity:"1.0"}}else{E={opacity:"1.0",scale:"1.0"}}d=F.clone();var B=d.get(0);B.style.position="absolute";B.style.margin="0";B.style.top=F.offset().top-u.top+"px";B.style.left=F.offset().left-u.left+"px";d.css("opacity",0);if(e.useScaling){d.css("transform","scale(0.0)")}d.appendTo(z);y.push({element:a(d),animation:E})}});t.remove();e.enhancement(z);for(v=0;v<y.length;v++){y[v].element.animate(y[v].animation,e.duration,e.easing,s)}})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});(function(b){b.fn.openPopup=function(B,y){function H(){var c=b("input[type=text]",E).length!=0,e=o.vStart!=null?o.vStart:D.scrollTop()+A;if(o.xLink){b("a#bContinue").attr({href:b("a.xlink").attr("href")});b("a#bContinue .btnLink").text(b("a.xlink").attr("title"))}E.css({left:D.scrollLeft()+z,position:"absolute",top:e,"z-index":o.zIndex}).appendTo(o.appendTo).hide(function(){c&&E.each(function(){E.find("input[type=text]").val("")});o.loadUrl!=null&&E.load(o.loadUrl)}).fadeIn(o.fadeSpeed,function(){c&&E.find("input[type=text]:first").focus();b.isFunction(y)&&y()});G()}function w(){o.modal&&b("#bModal").fadeOut(o.fadeSpeed,function(){b("#bModal").remove()});E.fadeOut(o.fadeSpeed,function(){o.loadUrl!=null&&E.empty()});o.scrollBar||b("html").css("overflow","auto");b("."+o.closeClass).die("click");D.unbind("keydown.bPopup");C.unbind(".bPopup")}function F(){if(v){var c=[D.height(),D.width()];return{"background-color":o.modalColor,height:c[0],left:x(),opacity:0,position:"absolute",top:0,width:c[1],"z-index":o.zIndex-1}}else{return{"background-color":o.modalColor,height:"100%",left:0,opacity:0,position:"fixed",top:0,width:"100%","z-index":o.zIndex-1}}}function G(){b("."+o.closeClass).live("click",function(){w();return false});o.follow&&C.bind("scroll.bPopup",function(){E.stop().animate({left:D.scrollLeft()+z,top:D.scrollTop()+A},o.followSpeed)}).bind("resize.bPopup",function(){if(o.modal&&v){var c=[D.height(),D.width()];q.css({height:c[0],width:c[1],left:x()})}c=j(E,o.amsl);A=c[0];z=c[1];E.stop().animate({left:D.scrollLeft()+z,top:D.scrollTop()+A},o.followSpeed)});o.escClose&&D.bind("keydown.bPopup",function(c){c.which==27&&w()})}function x(){return C.width()<b("body").width()?0:(b("body").width()-C.width())/2}function j(c,f){var g=(C.height()-c.height())/2-f,e=(C.width()-c.width())/2+x();return[g<20?20:g,e]}if(b.isFunction(B)){y=B;B=null}o=b.extend({},b.fn.openPopup.defaults,B);o.scrollBar||b("html").css("overflow","hidden");var E=b(this),q=b('<div id="bModal"></div>'),D=b(document),C=b(window),a=j(E,o.amsl),A=a[0],z=a[1],v=b.browser.msie&&parseInt(b.browser.version)==6&&typeof window.XMLHttpRequest!="object";return this.each(function(){o.modal&&q.css(F()).appendTo(o.appendTo).animate({opacity:o.opacity},o.fadeSpeed);H()})};b.fn.openPopup.defaults={amsl:150,appendTo:"body",closeClass:"bClose",escClose:true,fadeSpeed:250,follow:true,followSpeed:500,loadUrl:null,modal:true,modalColor:"#000",opacity:0.5,scrollBar:true,xLink:false,zIndex:9999};b.fn.closePopup=function(){b(this).trigger("click")}})(jQuery);function attatch_all_popup(){$("#portfolios a").click(function(){var a=$(this).attr("popup-id");$("#popup_content"+a).openPopup({amsl:50,fadeSpeed:500,opacity:0.8});return false})}$(document).ready(function(){attatch_all_popup()});$(function(){var a=$("#portfolios");var b=a.clone();$("#tags a").click(function(){$("#tags .button").removeClass("active");var c=$(this).html();$(this).parent().addClass("active");if(c=="all"){var e=b.find("li")}else{var e=b.find("li[data-type*=-"+removeSpaces(c)+"-]")}a.quicksand(e,{duration:800,easing:"easeInOutQuad"},function(){attatch_all_popup()})})});function removeSpaces(a){return a.split(" ").join("")};